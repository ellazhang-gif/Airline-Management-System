<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View all tickets</title>
</head>
<body>
    <form action="/airline_staff_home_admin_operator/create_new_flight" method ="POST"></form>
    <h1>  Hi {{session['username']}}, welcome to create new flight page </h1> 
    <h2>Here are all the upcoming flights for the next 30 days:</h2>
        <table border = "1" cellspacing="0">
            <tr>
                <td>airline_name</td>
                <td>flight_num</td>
                <td>departure_airport</td>
                <td>departure_time</td>
                <td>arrival_airport</td>
                <td>arrival_time</td>
                <td>price</td>
                <td>status</td>
                <td>airplane_id</td>
            </tr>
            {%for row in create_flight_table%}
            <tr>
                <!-- if select all from db, then output is a dictionary,
                if select specifically then the output is a list -->
                <td>{{row['airline_name']}}</td>
                <td>{{row['flight_num']}}</td>
                <td>{{row['departure_airport_name']}}</td>
                <td>{{row['departure_time']}}</td>
                <td>{{row['arrival_airport_name']}}</td>
                <td>{{row['arrival_time']}}</td>
                <td>{{row['price']}}</td>
                <td>{{row['status']}}</td>
                <td>{{row['airplane_id']}}</td>
            </tr>
            {% endfor %}
        </table>
    {% if error0 %}
        <p class="error"><strong>Error: </strong> {{error0}}</p>
    {% endif %}
    <h2> Please add the flight below:
    </h2>
    <form action="/airline_staff_home_admin_operator/create_new_flight/action" method="POST">
        <input type="text" name = "airline_name" placeholder="airline_name" required/> </br>
        <input type="text" name = "flight_num" placeholder="flight_num" required/> </br>
        <input type="text" name = "departure_airport_name" placeholder="departure_airport" required/> </br>
        <input type="datetime-local" name = "departure_time" placeholder="departure_time" required/> </br>
        <input type="text" name = "arrival_airport_name" placeholder="arrival_airport" required/> </br>
        <input type="datetime-local" name = "arrival_time" placeholder="arrival_time" required/> </br>
        <input type="text" name = "price" placeholder="price" required/> </br>
        <input type="text" name = "status" placeholder="status" required/> </br>
        <input type="text" name = "airplane_id" placeholder="airplane_id" required/></br>
        <input type="submit" value = create />
        
    </form>
        {% if error %}
            <p class="error"><strong>Error:</strong> {{error}}</p>
        {% endif %}
    <div><button onclick="window.location.href='/airline_staff_home_admin_operator'";> Go back</button> <br></div>


</body>
</body>
</html>
